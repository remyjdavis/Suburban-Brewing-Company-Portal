<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Monthly Sales & Commission | Suburban</title>
  <style>
    /* Standardized sidebar styles omitted for brevity, use same as index.html */
    .report-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 20px; }
    .stat-card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .commission-box { background: #1f2937; color: white; padding: 30px; border-radius: 12px; text-align: center; }
    .progress-container { background: #374151; height: 12px; border-radius: 6px; margin: 20px 0; overflow: hidden; }
    .progress-bar { background: #10b981; height: 100%; transition: width 1s ease; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th { text-align: left; font-size: 12px; color: #6b7280; text-transform: uppercase; padding: 10px; }
    td { padding: 12px 10px; border-bottom: 1px solid #f3f4f6; }
  </style>
</head>
<body>
  <main class="main">
    <h1>Monthly Performance</h1>
    
    <div class="commission-box">
      <div style="font-size: 14px; opacity: 0.8;">Estimated Commission (MTD)</div>
      <div id="commissionVal" style="font-size: 48px; font-weight: 800; margin: 10px 0;">$0.00</div>
      <div id="currentRate" style="font-size: 18px; color: #10b981; font-weight: 700;">Rate: 9%</div>
      
      <div class="progress-container">
        <div id="tierProgress" class="progress-bar" style="width: 0%"></div>
      </div>
      <div id="tierNote" style="font-size: 12px; opacity: 0.7;">$0.00 more until 10% rate</div>
    </div>

    <div class="report-grid">
      <div class="stat-card">
        <h3>Inventory Volume (Sold)</h3>
        <table id="inventoryTable">
          <thead>
            <tr><th>Product SKU</th><th>Units Delivered</th></tr>
          </thead>
          <tbody>
            </tbody>
        </table>
      </div>

      <div class="stat-card">
        <h3>Sales Summary</h3>
        <div style="margin-bottom: 15px;">
          <small>Total Gross Sales</small>
          <div id="grossSales" style="font-size: 24px; font-weight: 700;">$0.00</div>
        </div>
        <button onclick="window.print()" style="width:100%; padding:10px; cursor:pointer;">Export PDF Report</button>
      </div>
    </div>
  </main>

  <script>
    async function loadReport() {
      // Logic to fetch from getMonthlySalesReport action
      // For now, mock calculation display:
      const sales = 125000; 
      const rate = 0.10; 
      const comm = sales * rate;
      const nextTier = 200000;
      
      document.getElementById('commissionVal').innerText = `$${comm.toLocaleString()}`;
      document.getElementById('currentRate').innerText = `Current Rate: ${(rate*100)}%`;
      document.getElementById('grossSales').innerText = `$${sales.toLocaleString()}`;
      
      const percent = ((sales % 100000) / 100000) * 100;
      document.getElementById('tierProgress').style.width = percent + '%';
      document.getElementById('tierNote').innerText = `$${(nextTier - sales).toLocaleString()} more until next % bump`;
    }
    window.onload = loadReport;
  </script>
</body>
</html>
